<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#1a1a2e">
    <title>Êó•ËØ≠ÂΩ¢ÊÄÅÁªÉ‰π†</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <div class="app">
        <!-- ‰∏ªË¶ÅÂÜÖÂÆπÂå∫Âüü -->
        <main class="main-content">
            <!-- Â≠¶‰π†È°µÈù¢ -->
            <div id="learn" class="page active">
                <div class="page-header">
                    <h1>Êó•ËØ≠ÂΩ¢ÊÄÅÁªÉ‰π†</h1>
                    <div class="user-info">
                        <span id="user-code">Âä†ËΩΩ‰∏≠...</span>
                    </div>
                </div>
                
                <!-- Ê®°ÂùóÈÄâÊã© -->
                <div class="module-selector">
                    <button class="module-btn active" data-module="verb">
                        <div class="module-icon">Âãï</div>
                        <div class="module-text">
                            <div class="module-title">Âä®ËØçÂèòÂΩ¢</div>
                            <div class="module-desc">„Åæ„ÅôÂΩ¢„Éª„Å¶ÂΩ¢„ÉªÂê¶ÂÆöÂΩ¢Á≠â</div>
                        </div>
                    </button>
                    <button class="module-btn" data-module="adj">
                        <div class="module-icon">ÂΩ¢</div>
                        <div class="module-text">
                            <div class="module-title">ÂΩ¢ÂÆπËØçÂèòÂΩ¢</div>
                            <div class="module-desc">iÂΩ¢ÂÆπËØç„ÉªnaÂΩ¢ÂÆπËØç</div>
                        </div>
                    </button>
                    <button class="module-btn" data-module="plain">
                        <div class="module-icon">Á∞°</div>
                        <div class="module-text">
                            <div class="module-title">ÁÆÄ‰ΩìÂΩ¢</div>
                            <div class="module-desc">ÁÆÄ‰ΩìÂΩ¢ÂèòÂåñÁªÉ‰π†</div>
                        </div>
                    </button>
                </div>
                
                <!-- ÂΩ¢ÊÄÅÈÄâÊã© -->
                <div class="form-selector">
                    <div class="form-chips" id="form-chips">
                        <!-- Âä®ÊÄÅÁîüÊàê -->
                    </div>
                </div>
                
                <!-- ÁªÉ‰π†Ê®°ÂºèÂàáÊç¢ -->
                <div class="mode-toggle">
                    <button class="mode-btn active" data-mode="flashcard">Èó™Âç°Ê®°Âºè</button>
                    <button class="mode-btn" data-mode="quiz">ÊµãÈ™åÊ®°Âºè</button>
                </div>
                
                <!-- ÊµãÈ™åÂç°Áâá -->
                <div class="quiz-card" id="quiz-card" style="display: none;">
                    <div class="card-header">
                        <div class="word-info">
                            <div class="word-main" id="word-main">Ë™≠„ÇÄ</div>
                            <div class="word-reading" id="word-reading">„Çà„ÇÄ</div>
                            <div class="word-meaning" id="word-meaning">ËØª</div>
                        </div>
                        <div class="target-form" id="target-form">„Å¶ÂΩ¢</div>
                    </div>
                    
                    <div class="input-section">
                        <input type="text" id="answer-input" placeholder="ËØ∑ËæìÂÖ•Á≠îÊ°à" autocomplete="off">
                        <button class="submit-btn" id="submit-btn">Êèê‰∫§</button>
                    </div>
                    
                    <div class="result-section" id="result-section" style="display: none;">
                        <div class="result-status" id="result-status"></div>
                        <div class="correct-answer" id="correct-answer"></div>
                        <div class="explanation" id="explanation"></div>
                        <button class="next-btn" id="next-btn">‰∏ã‰∏ÄÈ¢ò</button>
                    </div>
                </div>
                
                <!-- Èó™Âç° -->
                <div class="flashcard" id="flashcard" style="display: none;">
                    <div class="card-front" id="card-front">
                        <div class="word-info">
                            <div class="word-main" id="fc-word-main">Ë™≠„ÇÄ</div>
                            <div class="word-reading" id="fc-word-reading">„Çà„ÇÄ</div>
                            <div class="word-meaning" id="fc-word-meaning">ËØª</div>
                        </div>
                        <div class="target-form" id="fc-target-form">„Å¶ÂΩ¢</div>
                        <button class="flip-btn" id="flip-btn">ÊòæÁ§∫Á≠îÊ°à</button>
                    </div>
                    
                    <div class="card-back" id="card-back" style="display: none;">
                        <div class="answer-display" id="fc-answer">Ë™≠„Çì„Åß</div>
                        <div class="explanation" id="fc-explanation">„ÇÄÁªìÂ∞æÂä®ËØçÁöÑ„Å¶ÂΩ¢ÂèòÂåñ</div>
                        
                        <div class="feedback-buttons">
                            <button class="feedback-btn again" data-feedback="again">Again</button>
                            <button class="feedback-btn hard" data-feedback="hard">Hard</button>
                            <button class="feedback-btn good" data-feedback="good">Good</button>
                            <button class="feedback-btn easy" data-feedback="easy">Easy</button>
                        </div>
                    </div>
                </div>
                
                <!-- ÂºÄÂßãÊåâÈíÆ -->
                <div class="start-section">
                    <button class="start-btn" id="start-btn">ÂºÄÂßãÁªÉ‰π†</button>
                </div>
            </div>
            
            <!-- ËøõÂ∫¶È°µÈù¢ -->
            <div id="progress" class="page">
                <div class="page-header">
                    <h1>Â≠¶‰π†ËøõÂ∫¶</h1>
                </div>
                
                <!-- Êñ∞ÁöÑ‰∏âÂ±ÇÁªìÊûÑ -->
                <div class="progress-container">
                    
                    <!-- Á¨¨‰∏ÄÂ±ÇÔºö‰ªäÊó•Ê¶ÇËßà -->
                    <div class="today-overview-section">
                        <h2>‰ªäÊó•Ê¶ÇËßà</h2>
                        
                        <!-- ‰ªäÊó•ÁõÆÊ†áËøõÂ∫¶ -->
                        <div class="today-progress">
                            <div class="progress-card">
                                <div class="progress-header">
                                    <span class="progress-title">Êñ∞Â≠¶ËøõÂ∫¶</span>
                                    <span class="progress-count" id="new-progress">0/10</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="new-progress-fill" style="width: 0%"></div>
                                </div>
                            </div>
                            
                            <div class="progress-card">
                                <div class="progress-header">
                                    <span class="progress-title">Â§ç‰π†ËøõÂ∫¶</span>
                                    <span class="progress-count" id="review-progress">0/50</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="review-progress-fill" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- ‰ªäÊó•ÁªüËÆ°Âç°Áâá -->
                        <div class="today-stats">
                            <div class="stat-card">
                                <div class="stat-icon">üìö</div>
                                <div class="stat-content">
                                    <div class="stat-number" id="study-time-today">0ÂàÜÈíü</div>
                                    <div class="stat-label">‰ªäÊó•Â≠¶‰π†Êó∂Èó¥</div>
                                </div>
                            </div>
                            
                            <div class="stat-card">
                                <div class="stat-icon">üî•</div>
                                <div class="stat-content">
                                    <div class="stat-number" id="study-streak">0Â§©</div>
                                    <div class="stat-label">Â≠¶‰π†ËøûÂáª</div>
                                </div>
                            </div>
                            
                            <div class="stat-card">
                                <div class="stat-icon">‚è∞</div>
                                <div class="stat-content">
                                    <div class="stat-number" id="due-total">0</div>
                                    <div class="stat-label">ÂæÖÂ§ç‰π†ÊÄªÊï∞</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Á¨¨‰∫åÂ±ÇÔºöÊ®°ÂºèÂØπÊØî -->
                    <div class="mode-comparison-section">
                        <h2>Ê®°ÂºèÂØπÊØî</h2>
                        
                        <!-- Ê®°ÂùóÈÄâÊã©Âô® -->
                        <div class="module-selector">
                            <button class="module-btn active" data-module="all">ÂÖ®ÈÉ®</button>
                            <button class="module-btn" data-module="vrb">Âä®ËØç</button>
                            <button class="module-btn" data-module="adj">ÂΩ¢ÂÆπËØç</button>
                            <button class="module-btn" data-module="pln">ÁÆÄ‰ΩìÂΩ¢</button>
                        </div>
                        
                        <!-- Ê®°ÂºèÂØπÊØîÂõæË°® -->
                        <div class="mode-comparison-charts">
                            <div class="comparison-card">
                                <h3>ÊµãÈ™åÊ®°Âºè</h3>
                                <div class="mode-stats" id="quiz-mode-stats">
                                    <div class="mode-stat">
                                        <span class="stat-label">ÊÄªÈ¢òÁõÆ</span>
                                        <span class="stat-value" id="quiz-total">0</span>
                                    </div>
                                    <div class="mode-stat">
                                        <span class="stat-label">Ê≠£Á°ÆÁéá</span>
                                        <span class="stat-value" id="quiz-accuracy">0%</span>
                                    </div>
                                    <div class="mode-stat">
                                        <span class="stat-label">Âπ≥ÂùáÁÜüÁªÉÂ∫¶</span>
                                        <span class="stat-value" id="quiz-streak">0</span>
                                    </div>
                                    <div class="mode-stat">
                                        <span class="stat-label">Â∑≤ÊéåÊè°</span>
                                        <span class="stat-value" id="quiz-mastered">0</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="comparison-card">
                                <h3>Èó™Âç°Ê®°Âºè</h3>
                                <div class="mode-stats" id="flashcard-mode-stats">
                                    <div class="mode-stat">
                                        <span class="stat-label">ÊÄªÈ¢òÁõÆ</span>
                                        <span class="stat-value" id="flashcard-total">0</span>
                                    </div>
                                    <div class="mode-stat">
                                        <span class="stat-label">Âπ≥ÂùáÁÜüÁªÉÂ∫¶</span>
                                        <span class="stat-value" id="flashcard-accuracy">0%</span>
                                    </div>
                                    <div class="mode-stat">
                                        <span class="stat-label">Âπ≥ÂùáËøûÂáªÊï∞</span>
                                        <span class="stat-value" id="flashcard-streak">0</span>
                                    </div>
                                    <div class="mode-stat">
                                        <span class="stat-label">Â∑≤ÊéåÊè°</span>
                                        <span class="stat-value" id="flashcard-mastered">0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Ê®°ÂºèÊé®Ëçê -->
                        <div class="mode-recommendation" id="mode-recommendation">
                            <!-- Âä®ÊÄÅÁîüÊàêÊé®ËçêÂÜÖÂÆπ -->
                        </div>
                    </div>
                    
                    <!-- Á¨¨‰∏âÂ±ÇÔºöÂ≠¶‰π†Ê¥ûÂØü -->
                    <div class="learning-insights-section">
                        <h2>Â≠¶‰π†Ê¥ûÂØü</h2>
                        
                        <!-- Ê¥ûÂØüÊ†áÁ≠æÈ°µ -->
                        <div class="insights-tabs">
                            <button class="insight-tab-btn active" data-tab="trends">7Â§©Ë∂ãÂäø</button>
                            <button class="insight-tab-btn" data-tab="weaknesses">ËñÑÂº±ÁéØËäÇ</button>
                            <button class="insight-tab-btn" data-tab="suggestions">Êô∫ËÉΩÂª∫ËÆÆ</button>
                        </div>
                        
                        <!-- 7Â§©Ë∂ãÂäø -->
                        <div id="trends-insight" class="insight-content active">
                            <div class="trend-chart-container">
                                <canvas id="weekly-trend-chart" width="400" height="200"></canvas>
                            </div>
                            <div class="trend-summary" id="trend-summary">
                                <!-- Âä®ÊÄÅÁîüÊàêË∂ãÂäøÊÄªÁªì -->
                            </div>
                        </div>
                        
                        <!-- ËñÑÂº±ÁéØËäÇ -->
                        <div id="weaknesses-insight" class="insight-content">
                            <div class="weakness-list" id="weakness-list">
                                <!-- Âä®ÊÄÅÁîüÊàêËñÑÂº±ÁéØËäÇ -->
                            </div>
                        </div>
                        
                        <!-- Êô∫ËÉΩÂª∫ËÆÆ -->
                        <div id="suggestions-insight" class="insight-content">
                            <div class="recommendations-container">
                                <!-- Â≠¶‰π†ÁõÆÊ†áÊé®Ëçê -->
                                <div class="recommendation-section" id="goals-recommendations">
                                    <h4>Â≠¶‰π†ÁõÆÊ†áÂª∫ËÆÆ</h4>
                                    <div class="recommendation-cards" id="goals-cards">
                                        <!-- Âä®ÊÄÅÁîüÊàêÁõÆÊ†áÊé®ËçêÂç°Áâá -->
                                    </div>
                                </div>
                                
                                <!-- Â≠¶‰π†Ê®°ÂºèÊé®Ëçê -->
                                <div class="recommendation-section" id="modes-recommendations">
                                    <h4>Â≠¶‰π†Ê®°ÂºèÂª∫ËÆÆ</h4>
                                    <div class="recommendation-cards" id="modes-cards">
                                        <!-- Âä®ÊÄÅÁîüÊàêÊ®°ÂºèÊé®ËçêÂç°Áâá -->
                                    </div>
                                </div>
                                
                                <!-- Â≠¶‰π†Êó∂Èó¥Êé®Ëçê -->
                                <div class="recommendation-section" id="schedule-recommendations">
                                    <h4>ÊúÄ‰Ω≥Â≠¶‰π†Êó∂Èó¥</h4>
                                    <div class="recommendation-cards" id="schedule-cards">
                                        <!-- Âä®ÊÄÅÁîüÊàêÊó∂Èó¥Êé®ËçêÂç°Áâá -->
                                    </div>
                                </div>
                                
                                <!-- ÈáçÁÇπÂÖ≥Ê≥®Âå∫Âüü -->
                                <div class="recommendation-section" id="focus-recommendations">
                                    <h4>ÈáçÁÇπÂÖ≥Ê≥®</h4>
                                    <div class="recommendation-cards" id="focus-cards">
                                        <!-- Âä®ÊÄÅÁîüÊàêÈáçÁÇπÂÖ≥Ê≥®Âç°Áâá -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ËÆæÁΩÆÈ°µÈù¢ -->
            <div id="settings" class="page">
                <div class="page-header">
                    <h1>ËÆæÁΩÆ</h1>
                </div>
                
                <div class="settings-section">
                    <h3>Ë¥¶Êà∑‰ø°ÊÅØ</h3>
                    <div class="setting-item">
                        <label>ÈÇÆÁÆ±Âú∞ÂùÄ</label>
                        <div class="user-email-section">
                            <span id="user-email-display">Êú™ÁôªÂΩï</span>
                        </div>
                        <div class="setting-desc">ÊÇ®ÁöÑÁôªÂΩïÈÇÆÁÆ±Âú∞ÂùÄ</div>
                    </div>
                    
                    <div class="setting-item">
                        <button class="logout-btn" id="logout-btn">ÈÄÄÂá∫ÁôªÂΩï</button>
                        <div class="setting-desc">ÈÄÄÂá∫ÂΩìÂâçË¥¶Êà∑ÔºåËøîÂõûÁôªÂΩïÈ°µÈù¢</div>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3>Â≠¶‰π†ËÆæÁΩÆ</h3>
                    <div class="setting-item">
                        <label class="switch-label">
                            <input type="checkbox" id="due-only-toggle">
                            <span class="switch"></span>
                            Âè™ÊòæÁ§∫Âà∞ÊúüÈ¢òÁõÆ
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <label class="switch-label">
                            <input type="checkbox" id="show-explain-toggle">
                            <span class="switch"></span>
                            ÊòæÁ§∫ÂèòÂΩ¢ËßÑÂàôËØ¥Êòé
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <label>ÊØèÊó•Êñ∞Â≠¶‰π†ÁõÆÊ†á</label>
                        <div class="goal-setting">
                            <input type="number" id="daily-goal-input" min="1" max="50" value="10">
                            <span class="goal-unit">‰∏™Êñ∞ËØçÊ±á</span>
                        </div>
                        <div class="setting-desc">ËÆæÁΩÆÊØèÂ§©Â≠¶‰π†Êñ∞ËØçÊ±áÁöÑÁõÆÊ†áÊï∞Èáè</div>
                        <div class="goal-progress" id="goal-progress">
                            <div class="progress-text">‰ªäÊó•ËøõÂ∫¶Ôºö<span id="today-progress">0</span>/<span id="today-goal">10</span></div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="settings-new-progress-fill"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-item">
                        <label>ÊØèÊó•Â§ç‰π†ÁõÆÊ†á</label>
                        <div class="goal-setting">
                            <input type="number" id="daily-review-goal-input" min="1" max="100" value="20">
                            <span class="goal-unit">‰∏™Â§ç‰π†È¢òÁõÆ</span>
                        </div>
                        <div class="setting-desc">ËÆæÁΩÆÊØèÂ§©Â§ç‰π†Â∑≤Â≠¶ËØçÊ±áÁöÑÁõÆÊ†áÊï∞Èáè</div>
                        <div class="goal-progress" id="review-goal-progress">
                            <div class="progress-text">‰ªäÊó•Â§ç‰π†ËøõÂ∫¶Ôºö<span id="today-review-progress">0</span>/<span id="today-review-goal">20</span></div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="settings-review-progress-fill"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3>ÂêØÁî®ÁöÑÂèòÂΩ¢</h3>
                    <div class="form-toggles" id="form-toggles">
                        <!-- Âä®ÊÄÅÁîüÊàê -->
                    </div>
                </div>
                
                <!-- ÁâàÊùÉÂ£∞Êòé -->
                <div class="copyright-section">
                    <div class="copyright-text">
                        <p>&copy; 2025 Êó•ËØ≠ÂΩ¢ÊÄÅÁªÉ‰π†Â∫îÁî®</p>
                        <p>Âü∫‰∫é MIT ËÆ∏ÂèØËØÅÂºÄÊ∫ê</p>
                        <p>ÁâàÊú¨ <span id="app-version">1.0.2</span></p>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- Â∫ïÈÉ®ÂØºËà™ -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-page="learn">
                <div class="nav-icon">üìö</div>
                <div class="nav-label">Â≠¶‰π†</div>
            </button>
            <button class="nav-item" data-page="progress">
                <div class="nav-icon">üìä</div>
                <div class="nav-label">ËøõÂ∫¶</div>
            </button>
            <button class="nav-item" data-page="settings">
                <div class="nav-icon">‚öôÔ∏è</div>
                <div class="nav-label">ËÆæÁΩÆ</div>
            </button>
        </nav>
    </div>
    
    <!-- Âä†ËΩΩÊèêÁ§∫ -->
    <div class="loading" id="loading">
        <div class="loading-spinner"></div>
        <div class="loading-text">Âä†ËΩΩ‰∏≠...</div>
    </div>
    
    <!-- ÊèêÁ§∫Ê∂àÊÅØ -->
    <div class="toast" id="toast"></div>
    
    <!-- Â∫îÁî®Êõ¥Êñ∞ÊèêÁ§∫ -->
    <div class="update-modal" id="updateModal">
        <div class="update-content">
            <div class="update-icon">üîÑ</div>
            <h3>ÂèëÁé∞Êñ∞ÁâàÊú¨</h3>
            <p>ÊúâÊñ∞ÁâàÊú¨ÂèØÁî®ÔºåÂª∫ËÆÆÁ´ãÂç≥Êõ¥Êñ∞‰ª•Ëé∑ÂæóÊúÄ‰Ω≥‰ΩìÈ™å„ÄÇ</p>
            <div class="update-actions">
                <button class="btn-secondary" id="updateLater">Á®çÂêéÊèêÈÜí</button>
                <button class="btn-primary" id="updateNow">Á´ãÂç≥Êõ¥Êñ∞</button>
            </div>
        </div>
    </div>
    
    <script src="app.js"></script>
</body>
</html>